name: Update the Postman collection

on:
    push:
        branches:
            - main

jobs:
    update:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout the repository
              uses: actions/checkout@v2
            
            - name: Sync Postman Collections
              uses: jneate/postman-collection-action@v1
              with:
                postmanApiKey: ${{ secrets.POSTMANAPIKEY }}
                postmanWorkspaceId: 187c0b66-9d31-44c4-8c5f-ca387ec97690
                postmanTimeout: 30000
            
            - name: Commit Updated Postman Collection IDs
              uses: stefanzweifel/git-auto-commit-action@v4
              with:
                commit_message: Updated Postman Collection ID
 
